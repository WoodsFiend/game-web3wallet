function e(e,r,t,a){Object.defineProperty(e,r,{get:t,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired248,t=r.register;t("8FH9h",function(t,a){e(t.exports,"offchainLookupSignature",function(){return p}),e(t.exports,"offchainLookup",function(){return y});var s=r("eXRW8"),o=r("hFPNJ"),n=r("5FR6E"),c=r("7DSaN"),d=r("dfy3X"),i=r("lMBiy"),u=r("9f64g"),l=r("3VLTa"),f=r("hmu00");let p="0x556f1830",h={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function y(e,{blockNumber:r,blockTag:t,data:a,to:n}){let{args:l}=(0,c.decodeErrorResult)({data:a,abi:[h]}),[f,p,y,g,w]=l,{ccipRead:b}=e,k=b&&"function"==typeof b?.request?b.request:m;try{if(!(0,i.isAddressEqual)(n,f))throw new o.OffchainLookupSenderMismatchError({sender:f,to:n});let a=await k({data:y,sender:f,urls:p}),{data:c}=await (0,s.call)(e,{blockNumber:r,blockTag:t,data:(0,u.concat)([g,(0,d.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[a,w])]),to:n});return c}catch(e){throw new o.OffchainLookupError({callbackSelector:g,cause:e,data:a,extraData:w,sender:f,urls:p})}}async function m({data:e,sender:r,urls:t}){let a=Error("An unknown error occurred.");for(let s=0;s<t.length;s++){let c=t[s],d=c.includes("{data}")?"GET":"POST",i="POST"===d?{data:e,sender:r}:void 0;try{let t;let s=await fetch(c.replace("{sender}",r).replace("{data}",e),{body:JSON.stringify(i),method:d});if(t=s.headers.get("Content-Type")?.startsWith("application/json")?(await s.json()).data:await s.text(),!s.ok){a=new n.HttpRequestError({body:i,details:t?.error?(0,f.stringify)(t.error):s.statusText,headers:s.headers,status:s.status,url:c});continue}if(!(0,l.isHex)(t)){a=new o.OffchainLookupResponseMalformedError({result:t,url:c});continue}return t}catch(e){a=new n.HttpRequestError({body:i,details:e.message,url:c})}}throw a}}),t("hFPNJ",function(t,a){e(t.exports,"OffchainLookupError",function(){return c}),e(t.exports,"OffchainLookupResponseMalformedError",function(){return d}),e(t.exports,"OffchainLookupSenderMismatchError",function(){return i});var s=r("hmu00"),o=r("lppW8"),n=r("6HMiG");class c extends o.BaseError{constructor({callbackSelector:e,cause:r,data:t,extraData:a,sender:s,urls:o}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>`    ${(0,n.getUrl)(e)}`)],`  Sender: ${s}`,`  Data: ${t}`,`  Callback selector: ${e}`,`  Extra data: ${a}`].flat(),name:"OffchainLookupError"})}}class d extends o.BaseError{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,n.getUrl)(r)}`,`Response: ${(0,s.stringify)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class i extends o.BaseError{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}}),t("lMBiy",function(t,a){e(t.exports,"isAddressEqual",function(){return n});var s=r("kncAk"),o=r("66kHv");function n(e,r){if(!(0,o.isAddress)(e,{strict:!1}))throw new s.InvalidAddressError({address:e});if(!(0,o.isAddress)(r,{strict:!1}))throw new s.InvalidAddressError({address:r});return e.toLowerCase()===r.toLowerCase()}});
//# sourceMappingURL=ccip.57ff8e58.js.map
